# Copilot Coding Agent for GitLab

[English](../README.md) | [ไธญๆ](./README_CN.md) | [ๆฅๆฌ่ช](./README_JA.md) | [เคนเคฟเคจเฅเคฆเฅ](./README_HI.md) | [ํ๊ตญ์ด](./README_KO.md) | [เธเธฒเธฉเธฒเนเธเธข](./README_TH.md) | ุงูุนุฑุจูุฉ

ูููู ุจุฑูุฌุฉ ุขูู ุจุงููุงูู ูุฏุนูู ุจูุงุณุทุฉ GitHub Copilot SDK ู GitLab CI/CD. ูุชูุญ ูุฐุง ุงููุธุงู ุชูููุฐ ุงูุดูุฑุฉ ุงูุจุฑูุฌูุฉ ุจุดูู ูุณุชูู ููุฑุงุฌุนุฉ ุงูุดูุฑุฉ ุงูุฐููุฉ ูู ุฎูุงู ุชุนูููุงุช ุงููุณุงุฆู (Issues)ุ ุชุนูููุงุช ุทูุจุงุช ุงูุฏูุฌ (Merge Request)ุ ูุชุนูููุงุช ูุฑุงุฌุนู ุทูุจุงุช ุงูุฏูุฌ.

## ุงูุนุฑุถ ุงูุชูุถูุญู ูุงูุฃูุซูุฉ

**ููุฏูููุงุช ุงูุนุฑุถ ุงูุชูุถูุญู ุนูู YouTube**

ุงูุฅุนุฏุงุฏ:
- [Copilot Coding Agent for GitLab - Setup Guide](https://www.youtube.com/watch?v=aSQVP1AAD60)

ููููุฉ ุงูุงุณุชุฎุฏุงู:
- [Copilot Coding Agent for GitLab - How to use 2:30 โ Create an issue in the app repo and assign it to Copilot](https://www.youtube.com/watch?v=med7Bfff_m4&t=150s)
- [Copilot Coding Agent for GitLab - How to use 11:24 โ Let Copilot make some updates in the merge request via comments](https://www.youtube.com/watch?v=med7Bfff_m4&t=684s)

**ูุณุชูุฏุน ุงูุฃูุซูุฉ**
- ูุณุชูุฏุน GitLab ุงูุชูุถูุญู ุงูุนุงู [app-repo-01](https://gitlab.com/agentic-devops/app-repo-01)
- ุงููุณุฃูุฉ: [ุชุทุจูู ุงุณุชูุจุงู Webhook](https://gitlab.com/agentic-devops/app-repo-01/-/issues/23)
- ุทูุจ ุงูุฏูุฌ: [ุชุทุจูู ุงุณุชูุจุงู Webhook (#23)](https://gitlab.com/agentic-devops/app-repo-01/-/merge_requests/28)
- ุชุญุฏูุซ ุทูุจ ุงูุฏูุฌ ุจุงูุชุนููู: [@copilot-gitlab-agent ุชุนุฏูู ููู readme ุฅูู ุงูุนุฑุจูุฉ](https://gitlab.com/agentic-devops/app-repo-01/-/merge_requests/28#note_2935174921)
- ูุฑุงุฌุนุฉ ุงูุดูุฑุฉ: [ุชุนููู Copilot ููุฑุงุฌุน MR](https://gitlab.com/agentic-devops/app-repo-01/-/merge_requests/28#note_2935188042)

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```mermaid
graph TB
    subgraph "ูุณุชูุฏุน ุงูุชุทุจูู (ุงููุณุชูุฏุน ุงููุณุชูุฏู)"
        A[GitLab Issue/MR] -->|ุชุนููู ุงููุณุฃูุฉ ุฅูู Copilot| C[ุชูุนูู Webhook]
        A[GitLab Issue/MR] -->|ุชุนููู MR @copilot-gitlab-agent| C[ุชูุนูู Webhook]
        A[GitLab Issue/MR] -->|ุชุนููู Copilot ููุฑุงุฌุน MR| C[ุชูุนูู Webhook]
    end

    subgraph "ุฎุฏูุฉ Webhook"
        C -->|HTTP POST| D[ุฎุฏูุฉ Fastify]
        D -->|ุงูุชุญูู ูุงูุงุณุชุฎุฑุงุฌ| E[ูุชุบูุฑุงุช Pipeline]
        E -->|ุชูุนูู| F[GitLab API]
    end

    subgraph "ูุณุชูุฏุน Copilot Coding Agent"
        F -->|ุจุฏุก Pipeline| G[CI/CD Pipeline]
        G -->|Issue: ack โ plan โ create_mr| H[ุณูุฑ ุนูู ุงููุณุฃูุฉ]
        G -->|MR Note: mr_update ููุท| I[ุณูุฑ ุนูู ุชุนููู MR]
        G -->|MR Reviewer: mr_review| L[ุณูุฑ ุนูู ูุฑุงุฌุนุฉ MR]
        H -->|implement โ finalize| J[GitHub Copilot SDK]
        I -->|ุชูููุฐ ุงูุชุบููุฑุงุช| J
        L -->|ุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ุงูุดูุฑุฉ| J
        J -->|ุชูููุฏ ุงูุดูุฑุฉ| K[Git Commit & Push]
    end

    K -->|ุชุญุฏูุซ| A
    J -->|ูุดุฑ ุงูุชุนูููุงุช| A
    L -->|ูุดุฑ ุชุนูููุงุช ุงููุฑุงุฌุนุฉ| A

    style D fill:#e1f5ff
    style G fill:#fff4e1
    style J fill:#e8f5e9
```

### ููููุงุช ุงููุธุงู

1. **ูุณุชูุฏุน ุงูุชุทุจูู**: ูุณุชูุฏุน ุดูุฑุฉ ุงูุชุทุจูู ุงูุฎุงุต ุจู ุญูุซ ูุญุฏุซ ุงูุชุทููุฑ
2. **ุฎุฏูุฉ Webhook**: ุฎุฏูุฉ ุชุฑุญูู ูุงุฆูุฉ ุนูู Fastify ุชูุชูุท ุฃุญุฏุงุซ GitLab
3. **ูุณุชูุฏุน Copilot Coding Agent**: ููุณู CI/CD ุงูุฐู ูุดุบู ุฃุชูุชุฉ ุงูุจุฑูุฌุฉ

### ูุธุฑุฉ ุนุงูุฉ ุนูู ุณูุฑ ุงูุนูู

**ุณูุฑ ุนูู ุชุนููู ุงููุณุฃูุฉ** (ุฃุชูุชุฉ ูุงููุฉ):
```
ุชุนููู ุงููุณุฃูุฉ ุฅูู Copilot โ Webhook โ ุชูุนูู Pipeline โ
ุงูุฅูุฑุงุฑ ุจุงููุณุฃูุฉ โ ุชูููุฏ ุฎุทุฉ TODO โ ุฅูุดุงุก MR โ
ุชูููุฐ ุงูุดูุฑุฉ โ ุฏูุน ุงูุชุบููุฑุงุช โ ุชุญุฏูุซ MR ูุงููุณุฃูุฉ
```

**ุณูุฑ ุนูู ุชุนููู MR** (ุชุญุฏูุซุงุช ุณุฑูุนุฉ):
```
ุงูุชุนููู @copilot-gitlab-agent ูู MR โ Webhook โ ุชูุนูู Pipeline โ
ุงูุฅูุฑุงุฑ โ ุชูููุฐ ุงูุชุบููุฑุงุช โ ุงูุฏูุน ุฅูู ุงููุฑุน ุงููุตุฏุฑ โ
ูุดุฑ ุชุนููู ุงูููุฎุต
```

**ุณูุฑ ุนูู ูุฑุงุฌุน MR** (ูุฑุงุฌุนุฉ ุดูุฑุฉ ุฐููุฉ):
```
ุชุนููู Copilot ููุฑุงุฌุน MR โ Webhook โ ุชูุนูู Pipeline โ
ุงูุฅูุฑุงุฑ โ ุชุญููู ุชุบููุฑุงุช ุงูุดูุฑุฉ โ ุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ุดุงููุฉ โ
ูุดุฑ ุชุนููู ุงููุฑุงุฌุนุฉ ุงูุชูุตููู
```

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

### ุงูุฃุฏูุงุช ุงููุทููุจุฉ
- **ุญุณุงุจ GitLab** ูุน ุตูุงุญูุฉ ุงููุตูู ุฅูู API
- **GitLab Runner (ูููุฐ Docker/Kubernetes)** (ูุชูููุฐ CI/CD)
- **GitHub Copilot** ุงุดุชุฑุงู (ูููุตูู ุฅูู SDK API)
- **Docker** (ุงุฎุชูุงุฑูุ ูุชุดุบูู ุฎุฏูุฉ webhook ูู ุญุงููุฉ)

### ุงูุตูุงุญูุงุช ุงููุทููุจุฉ
- **ูุณุชูุฏุน ุงูุชุทุจูู**: ุฏูุฑ Maintainer (ูุงุณุชูุจุงู webhooks ูุฅูุดุงุก MRs)
- **ูุณุชูุฏุน Copilot Coding Agent**: ุฏูุฑ Owner (ูุชูููู CI/CD)
- **ุฑูุฒ ุงููุตูู ุงูุดุฎุตู ูู GitLab** ูุน ุงููุทุงูุงุช:
  - `api` (ูุตูู ูุงูู ุฅูู API)
  - `read_repository`
  - `write_repository`

## ๐ ุฏููู ุฅุนุฏุงุฏ ุงููุณุคูู

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุณุชุฎุฏู ุจูุช Copilot (ุงุฎุชูุงุฑู ููู ููุตู ุจู)
> ูููุชุฑุญ ุฅูุดุงุก ุญุณุงุจ ูุณุชุฎุฏู GitLab ูุฎุตุต ููููู Copilot ูุฅุฏุงุฑุฉ ุฃูุถู ููุตูุงุญูุงุช ูุชุฏููู ุงููุดุงุท. ููููู ุงุณุชุฎุฏุงู ุญุณุงุจ ููุฌูุฏุ ููู ูุฐุง ุบูุฑ ููุตู ุจู.

1. ุฃูุดุฆ ุญุณุงุจูุง ุฌุฏูุฏูุง ุนูู GitLab ุจุงุณู "Copilot" ุฃู ูุดุงุจู
2. ุฃูุดุฆ ุฑูุฒ ูุตูู ุดุฎุตู ููุฐุง ุงูุญุณุงุจ:
   - ุงุฐูุจ ุฅูู **User Settings** โ **Personal Access Tokens**
   - ุงุณู ุงูุฑูุฒ: `copilot-automation`
   - ุงููุทุงูุงุช: ุญุฏุฏ ุฌููุน ุงููุทุงูุงุช (ุฃู ุนูู ุงูุฃูู: `api`ุ `read_repository`ุ `write_repository`)
   - ุงุญูุธ ุงูุฑูุฒ ุจุดูู ุขูู
   ![#gitlab-pat](../images/gitlab-pat.png)

3. ุงููุญ ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ ููุฐุง ุงููุณุชุฎุฏู (ุงุฎุชุฑ ุฃุญุฏ ุงูุฃุณุงููุจ):
   - **ุงูุฎูุงุฑ ุฃ (ููุตู ุจู ููุงุณุชุฎุฏุงู ุนูู ูุณุชูู ุงููุคุณุณุฉ)**: ุนููู ูู GitLab **Administrator** ุฃู **Owner** ูููุฌููุนุฉ
     - ูุชูุญ ูุฐุง ููุณุชุฎุฏู Copilot ุงููุตูู ุฅูู ุฌููุน ุงููุณุชูุฏุนุงุช ูู ูุณุฎุฉ GitLab ุฃู ุงููุฌููุนุฉ
     - ุฃูุซุฑ ููุงุกูุฉ ูุฅุฏุงุฑุฉ ูุดุงุฑูุน ูุชุนุฏุฏุฉ
   - **ุงูุฎูุงุฑ ุจ (ููุตู ุจู ูููุทุงู ุงููุญุฏูุฏ)**: ุฃุถู ูุนุถู ูู ูุณุชูุฏุนุงุช ุชุทุจููุงุช ูุญุฏุฏุฉ
     - ุงูุฏูุฑ: **Developer** ุฃู **Maintainer**
     - ุชุญูู ุฃูุซุฑ ุฏูุฉุ ููุงุณุจ ุฅุฐุง ููุช ุชูุถู ุงููุตูู ุงููููุฏ
   - ุณูุชู ุชุนููู ูุฐุง ุงููุณุชุฎุฏู ูููุณุงุฆู ูุฅูุดุงุก ุทูุจุงุช ุงูุฏูุฌ

### ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ูุณุชูุฏุน Copilot Coding Agent
> ุงุณุชุฎุฏุงู ุนูููุงุช ูุณุชุฎุฏู Copilot

1. **ุงุณุชูุฑุงุฏ ูุฐุง ุงููุณุชูุฏุน ุฅูู GitLab ุงูุฎุงุต ุจู ุนุจุฑ ุฑุงุจุท Git**
   - ุงุณุชุฎุฏู ูุณุชุฎุฏู Copilot ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฎุทูุฉ 1 ููุงูู ูููุณุชูุฏุนุ ุซู ุงุณุชูุฑุฏ ุงููุณุชูุฏุน ุฅูู GitLab:
     ```bash
     https://github.com/trycatchkamal/gitlab-copilot-agent.git
     ```
      ![#gl-create-project](../images/gl-create-project.png)
      ![#gl-import-project](../images/gl-import-project.png)
      ![#gl-repo-url](../images/gl-repo-url.png)
   - ูุฌุจ ุฃู ูููู ุธููุฑ ุงููุณุชูุฏุน ุงููุณุชูุฑุฏ ุญุฏูุซูุง ูุถุจูุทูุง ุนูู ุฏุงุฎูู
      ![#gl-import-settings](../images/gl-import-settings.png)

2. **ุชูููู ูุชุบูุฑุงุช CI/CD**

   ุงุฐูุจ ุฅูู **Settings** โ **CI/CD** โ **Variables**ุ ุฃุถู ูุง ููู:

   | ุงููุชุบูุฑ | ุงููุตู | Protected | Masked |
   |----------|-------------|-----------|--------|
   | `GITLAB_TOKEN` | ุฑูุฒ ุงููุตูู ุงูุดุฎุตู (ูู ุงูุฎุทูุฉ 1) | โ | โ |
   | `GITHUB_TOKEN` | ุฑูุฒ ูุตูู GitHub Copilotุ ูุชุถูู ุงุดุชุฑุงู GitHub Copilot ุตุงูุญ | โ | โ |

   ูุฅูุดุงุก `GITHUB_TOKEN` ููู ุฑูุฒ ูุตูู ุดุฎุตู ุฏููู ูุน ุชูุนูู ุฅุฐู "Copilot Requests":
   - ูู ุจุฒูุงุฑุฉ https://github.com/settings/personal-access-tokens/new
   - ุถูู "Permissions"ุ ุงููุฑ ุนูู "add permissions" ูุงุฎุชุฑ "Copilot Requests"
   - ุฃูุดุฆ ุฑูุฒู
   ![#copilot-pat](../images/copilot-pat.png)


   ![#cicd-variables](../images/cicd-variables.png)

   ุชุฐูุฑ ุชุบููุฑ ุงูุฏูุฑ ุงูุฐู ููููู ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช pipeline ุฅูู Developer
   ![#ppl-variables-permission](../images/ppl-variables-permission.png)

3. **ุฅุนุฏุงุฏ GitLab Runner**
   > ุฅุฐุง ูุงูุช ูุณุฎุฉ GitLab ุงูุฎุงุตุฉ ุจู ุชุญุชูู ุจุงููุนู ุนูู Runners ูุชุงุญุฉ ูุน ูููุฐุงุช Docker/Kubernetesุ ููููู ุชุฎุทู ูุฐู ุงูุฎุทูุฉ.

   ุชุฃูุฏ ูู ุฃู ูุฏูู GitLab Runner ูููู ูุน:
   - ูููุฐ Docker (ููุตู ุจู)
   - ุงููุตูู ุฅูู ุตูุฑุฉ Docker: `node:20-alpine`

   ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูุนูุงูุงุชุ ุชุฃูุฏ ูู ุฃู Runner ูุฏูู ุงูุนูุงูุงุช ุงูููุงุจูุฉุ ุฃู ูู ุจุชุญุฏูุซ `.gitlab-ci.yml` ุญุณุจ ุงูุญุงุฌุฉ. ูููู ุฅููุงู ุชุณุฌูู Runner ุงูุฌุฏูุฏ ุจุงุชุจุงุน ุฅุฑุดุงุฏุงุช ุตูุญุฉ GitLabุ ููููู ุงูุชุณุฌูู ุนูู ูุณุชูู ุงููุดุฑูุน ุฃู ุงููุฌููุนุฉ. ูุฐุง ูุซุงู ููุณุชูู ุงููุดุฑูุน:
   ![#runner-register](../images/runner-register.png)

### ุงูุฎุทูุฉ 3: ูุดุฑ ุฎุฏูุฉ Webhook

1. **ุฅูุดุงุก ููู `.env`**
   ```bash
   cat > .env << EOF
   PIPELINE_TRIGGER_TOKEN=ุฑูุฒ ุงูุชูุนูู ุงูุฎุงุต ุจูุ ูููุดุฃ ูู Settings โ CI/CD โ Pipeline trigger tokens ูููุณุชูุฏุน ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฎุทูุฉ 2
   PIPELINE_PROJECT_ID=ูุนุฑู ูุดุฑูุนูุ ูุนุฑู ูุดุฑูุน ูุฐุง ุงููุณุชูุฏุน (ููุฌุฏ ูู Settings โ General)
   PIPELINE_REF=main
   GITLAB_API_BASE=https://gitlab.com # ูู ุจุงูุชุบููุฑ ุฅูู ูุณุฎุฉ ูุณุชุถุงูุฉ ุฐุงุชููุง ุฅุฐุง ูุฒู ุงูุฃูุฑ
   WEBHOOK_SECRET_TOKEN=
   COPILOT_AGENT_USERNAME=copilot-gitlab-agent # ูุนุฑู GitLab ูุจูุช Copilot
   COPILOT_AGENT_COMMIT_EMAIL=33458317-copilot-gitlab-agent@users.noreply.gitlab.com # ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู git commits
   LISTEN_HOST=0.0.0.0
   LISTEN_PORT=8080
   ENABLE_INLINE_REVIEW_COMMENTS=true
   COPILOT_LANGUAGE=ar
   COPILOT_MODEL=gpt-4.1
   EOF
   ```

   - `PIPELINE_TRIGGER_TOKEN`: ูููุดุฃ ูู **Settings** โ **CI/CD** โ **Pipeline trigger tokens** ูููุณุชูุฏุน ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฎุทูุฉ 2
   ![#ppl-trigger-token](../images/ppl-trigger-token.png)
   - `PIPELINE_PROJECT_ID`: ูุนุฑู ูุดุฑูุน ูุฐุง ุงููุณุชูุฏุน (ููุฌุฏ ูู **Settings** โ **General**)
   ![#ppl-project-id](../images/ppl-project-id.png)
   - `COPILOT_AGENT_USERNAME`: ูุนุฑู GitLab ููุณุชุฎุฏู ุจูุช Copilot ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุฎุทูุฉ 1
   ![#gitlab-id](../images/gitlab-id.png)

2. **ุงูุชุดุบูู ุจุงุณุชุฎุฏุงู Docker**
   ```bash
   docker run -itd \
     --name gitlab-copilot-agent \
     -p 8080:8080 \
     --env-file .env \
     --restart unless-stopped \
     trycatchkamal/gitlab-copilot-agent:latest
   ```
3. **ุงูุชุดุบูู ูู ุงููุตุฏุฑ (ุงุฎุชูุงุฑู)**
   ```bash
   git clone https://github.com/trycatchkamal/gitlab-copilot-agent.git
   cd gitlab-copilot-agent/
   pnpm start
   ```
4. **ุฑุงุจุท Hook**
   ุงุญุตู ุนูู ุงูุฑุงุจุท ุงูุนุงู ูุฎุฏูุฉ webhookุ ูุซู:
   - `http://your-server-ip:8080/gitlab-events`

### ุงูุฎุทูุฉ 4: ุชูููู Webhooks ูู ูุณุชูุฏุน ุงูุชุทุจูู
> ุจุดูู ุนุงูุ ุงููุทูุฑูู ุงูุฐูู ูุฑูุฏูู ุงุณุชุฎุฏุงู ูููู ุจุฑูุฌุฉ Copilot ูุญุชุงุฌูู ููุท ุฅูู ุชูููู webhook ูู ูุณุชูุฏุน ุงูุชุทุจูู ุงูุฎุงุต ุจููุ ุฏูู ุงููุตูู ุฅูู ูุณุชูุฏุน ูููู ุจุฑูุฌุฉ Copilot.

1. ุงุฐูุจ ุฅูู **ูุณุชูุฏุน ุงูุชุทุจูู** ุงูุฎุงุต ุจู โ **Settings** โ **Webhooks**

2. **ุฅูุดุงุก Webhook**
   - ุงูุฑุงุจุท: `http://your-server-ip:8080/gitlab-events`
   - ุงูุฑูุฒ ุงูุณุฑู: (ููุณ `WEBHOOK_SECRET_TOKEN`)
   - ุงูุชูุนูู: โ **Issues events**ุ โ **Comments** (note events)ุ ู โ **Merge request events**
   - ุงููุฑ ุนูู **Add webhook**
   ![#webhook](../images/webhook.png)

3. **ุงุฎุชุจุงุฑ webhook**
   - ุงููุฑ ุนูู **Test** โ **Issue events**
   - ุชุญูู ูู ุณุฌูุงุช ุฎุฏูุฉ webhook ููุงุณุชูุจุงู ุงููุงุฌุญ
   - ุชุญูู ูู ุงุณุชุฌุงุจุฉ HTTP 200/202

### ุงูุฎุทูุฉ 5: ุงูุชุญูู

1. **ุงุฎุชุจุงุฑ ุชุนููู ุงููุณุฃูุฉ**
   - ุฃูุดุฆ ูุณุฃูุฉ ุงุฎุชุจุงุฑ ูู ูุณุชูุฏุน ุงูุชุทุจูู
   - ุนููููุง ููุณุชุฎุฏู Copilot
   ![#issue-assign](../images/issue-assign.png)
   - ุฑุงูุจ ุชูุนูู CI/CD pipeline ูู ูุณุชูุฏุน Copilot Coding Agent
   ![#coding-agent-ppl](../images/coding-agent-ppl.png)
   - ุชุญูู ูู ุฅูุดุงุก MR ูุชูููุฐ ุงูุดูุฑุฉ
   ![#mr1](../images/mr1.png)
   ![#mr2](../images/mr2.png)

2. **ุงุฎุชุจุงุฑ ุชุนููู MR**
   - ุฃูุดุฆ MR ุงุฎุชุจุงุฑู ูู ูุณุชูุฏุน ุงูุชุทุจูู
   - ุนููู: `@copilot-gitlab-agent add a hello world function`
   ![#mr-update](../images/mr-update.png)
   - ุชุญูู ูู ุชูููุฐ pipeline ูุชุบููุฑุงุช ุงูุดูุฑุฉ
   ![#mr-update-ppl](../images/mr-update-ppl.png)

3. **ุงุฎุชุจุงุฑ ูุฑุงุฌุน MR**
   - ุฃูุดุฆ ุฃู ุงูุชุญ MR ุงุฎุชุจุงุฑู ูู ูุณุชูุฏุน ุงูุชุทุจููุ ุนููู ูุณุชุฎุฏู Copilot ููุฑุงุฌุน
   ![#mr-reviewer](../images/mr-reviewer.png)
   - ุชุญูู ูู ุชูููุฐ pipeline ููุดุฑ ุชุนููู ุงููุฑุงุฌุนุฉุ ุชุญูู ูู ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุงูุดูุฑุฉ ุงูุชูุตููู ุงูููุดูุฑ ุจูุงุณุทุฉ Copilot
   ![#mr-review-result](../images/mr-review-result.png)

4. **ูุญุต ุงูุณุฌูุงุช**
   ```bash
   # ุณุฌูุงุช ุฎุฏูุฉ Webhook
   docker logs -f gitlab-copilot-agent

   # ูุญุต ุงูู webhook payloads ุงููุญููุธุฉ
   ls -la hooks/

   # ูุญุต ุณุฌูุงุช pipeline
   # ุงุฐูุจ ุฅูู ูุณุชูุฏุน Copilot Coding Agent โ CI/CD โ Pipelines
   ```

## ๐ ุฏููู ุงููุณุชุฎุฏู

### ูููุทูุฑูู: ุงุณุชุฎุฏุงู ุชุนููู ุงููุณุฃูุฉ

1. **ุฅูุดุงุก ูุณุฃูุฉ** ูู ูุณุชูุฏุน ุงูุชุทุจูู ุงูุฎุงุต ุจู
   ```markdown
   ## ุงููุชุทูุจุงุช
   - ุชูููุฐ ูุตุงุฏูุฉ ุงููุณุชุฎุฏู
   - ุฅุถุงูุฉ ุชุดููุฑ ูููุฉ ุงููุฑูุฑ
   - ุฅูุดุงุก ููุทุฉ ููุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
   - ุฅุถุงูุฉ ุชูููุฏ ุฑูุฒ JWT
   ```

2. **ุงูุชุนููู ูู Copilot**
   - ูู ุตูุญุฉ ุงููุณุฃูุฉุ ุนููููุง ููุณุชุฎุฏู "Copilot"
   - ุณูุจุฏุฃ ุงููุธุงู ุจุงูุนูู ุชููุงุฆููุง

3. **ุชุชุจุน ุงูุชูุฏู**
   - ููุดุฑ Copilot ุชุนููู ุฅูุฑุงุฑ ูุน ุฑุงุจุท pipeline
   - ูุชู ุฅูุดุงุก ุทูุจ ุฏูุฌ ูุน ูุงุฆูุฉ TODO
   - ูุชู ุชูููุฐ ุงูุดูุฑุฉ ุชููุงุฆููุง
   - ุชุนููู ููุงุฆู ูุฎุทุฑ ุจุงูุฅููุงู

   > **ููุงุญุธุฉ**: ุฅุฐุง ูุงู ุทูุจ ุฏูุฌ ููุฌูุฏูุง ุจุงููุนู ูููุณุฃูุฉุ ุณููุชุดู Copilot ุฐูู ูููุดุฑ ุฅุฎุทุงุฑูุง ูู ุงููุณุฃูุฉุ ุทุงูุจูุง ููู ูุชุงุจุนุฉ ุงูุนูู ูู MR ุงูููุฌูุฏ ุจุฏูุงู ูู ุฅูุดุงุก MR ููุฑุฑ.

4. **ุงููุฑุงุฌุนุฉ ูุงูุฏูุฌ**
   - ุฑุงุฌุน ุงูุดูุฑุฉ ุงููููุดุฃุฉ ูู MR
   - ุงุทูุจ ุชุบููุฑุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ (ุงูุธุฑ ุงุณุชุฎุฏุงู ุชุนููู MR ุฃุฏูุงู)
   - ูุงูู ูุงุฏูุฌ ุนูุฏ ุงูุฑุถุง

### ูููุทูุฑูู: ุงุณุชุฎุฏุงู ุฃูุงูุฑ ุชุนููู MR

1. **ูู MR ููุฌูุฏ**ุ ุฃุถู ุชุนููููุง:
   ```
   @copilot-gitlab-agent add error handling to the login function
   ```

2. **ุงูุชุนูููุงุช ุงููุฏุนููุฉ**
   - ุฅุถุงูุฉ ููุฒุงุช: `@copilot-gitlab-agent add unit tests for authentication`
   - ุฅุตูุงุญ ุงูุฃุฎุทุงุก: `@copilot-gitlab-agent fix the null pointer exception in line 45`
   - ุฅุนุงุฏุฉ ุงูููููุฉ: `@copilot-gitlab-agent refactor the user service to use dependency injection`
   - ุงูุชุญุฏูุซ: `@copilot-gitlab-agent update dependencies to latest versions`

3. **ุณูููู Copilot ุจู**:
   - ุงูุฅูุฑุงุฑ ุจุทูุจู
   - ุชูููุฐ ุงูุชุบููุฑุงุช
   - ุงูุงูุชุฒุงู ูุงูุฏูุน ุฅูู ูุฑุน MR
   - ูุดุฑ ููุฎุต ุงูุชุบููุฑุงุช

### ูููุทูุฑูู: ุงุณุชุฎุฏุงู ูุฑุงุฌุน MR ููุฑุงุฌุนุฉ ุงูุดูุฑุฉ

1. **ูู ุตูุญุฉ MR**ุ ุนููู ูุณุชุฎุฏู Copilot ููุฑุงุฌุน
   - ุงุนุซุฑ ุนูู ุฎูุงุฑ "Reviewers" ุนูู ุงูุฌุงูุจ ุงูุฃููู ูู ุตูุญุฉ MR
   - ุงุฎุชุฑ ูุณุชุฎุฏู Copilot (ูุซู copilot-gitlab-agent)

2. **ุณูููู Copilot ุจู**:
   - ุชูุนูู ุณูุฑ ุนูู ูุฑุงุฌุนุฉ ุงูุดูุฑุฉ ุชููุงุฆููุง
   - ุชุญููู ุฌููุน ุชุบููุฑุงุช ุงูุดูุฑุฉ ุจูู ุงููุฑูุน ุงููุตุฏุฑ ูุงููุฏู
   - ุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ุดูุฑุฉ ุดุงููุฉ ุชุดูู:
     - ุฌูุฏุฉ ุงูุดูุฑุฉ ููุงุจููุฉ ุงูุตูุงูุฉ
     - ุฃูุถู ุงูููุงุฑุณุงุช ูุฃููุงุท ุงูุชุตููู
     - ูุญุต ุซุบุฑุงุช ุงูุฃูุงู
     - ุชุญููู ุงูุฃุฏุงุก
     - ุชูููู ุชุบุทูุฉ ุงูุงุฎุชุจุงุฑ
     - ุงูุชูุงู ุงูุชูุซูู
   - ูุดุฑ ุชูุฑูุฑ ูุฑุงุฌุนุฉ ุชูุตููู ูู MRุ ูุตูู ุญุณุจ ุงูุฎุทูุฑุฉ
   - ุชูุฏูู ุงูุชุฑุงุญุงุช ุชุญุณูู ูุญุฏุฏุฉ ูุฅุตูุงุญุงุช ููุตู ุจูุง

3. **ูุญุชููุงุช ุชูุฑูุฑ ุงููุฑุงุฌุนุฉ**:
   - ููุฎุต ุงูุชูููู ุงูุนุงู
   - ุงููุดุงูู ูุตููุฉ ุญุณุจ ุงูุฎุทูุฑุฉ (ุญุฑุฌุฉุ ุฑุฆูุณูุฉุ ุซุงูููุฉุ ุงูุชุฑุงุญุงุช)
   - ูู ูุดููุฉ ุชุชุถูู ูููุน ุงููููุ ูุตู ุชูุตูููุ ูุชูุตูุงุช ููุฅุตูุงุญ
   - ุชูุตูุฉ ุงููุฑุงุฌุนุฉ ุงูููุงุฆูุฉ: APPROVEุ REQUEST_CHANGESุ ุฃู NEEDS_DISCUSSION

### ุฃูุถู ุงูููุงุฑุณุงุช

**ูุชุงุจุฉ ูุตู ูุณุฃูุฉ ูุนุงู**:
- ูู ูุญุฏุฏูุง ุจุดุฃู ุงููุชุทูุจุงุช
- ุฃุฏุฑุฌ ูุนุงููุฑ ุงููุจูู
- ูุฏู ุงูุณูุงู ูุงูุฃูุซูุฉ
- ุงุณุชุฎุฏู ููุงุฆู ุชุญูู ูููุงู ูุชุนุฏุฏุฉ

**ุงุณุชุฎุฏุงู ุฃูุงูุฑ ุชุนููู MR**:
- ุชุนูููุฉ ูุงุญุฏุฉ ูุงุถุญุฉ ููู ุชุนููู
- ุฃุดุฑ ุฅูู ูููุงุช/ูุธุงุฆู ูุญุฏุฏุฉ ุนูุฏ ุงูุฅููุงู
- ูู ููุฌุฒูุง ููู ูุตูููุง
- ุงูุชุธุฑ ุงูุฅููุงู ูุจู ุงูุชุนูููุฉ ุงูุชุงููุฉ

**ูุฑุงุฌุนุฉ ุงูุดูุฑุฉ**:
- ุฑุงุฌุน ุงูุดูุฑุฉ ุงููููุดุฃุฉ ุฏุงุฆููุง
- ุงุฎุชุจุฑ ุงูุชูููุฐ
- ุชุญูู ูู ูุดุงูู ุงูุฃูุงู
- ุชุญูู ูู ุงูุงูุชุซุงู ููุนุงููุฑ ุงูุจุฑูุฌุฉ

## ๐ง ูุฑุฌุน ุงูุชูููู

### ุงููููุงุช ุงููุณูุทุฉ (ูุณุชุซูุงุฉ ุชููุงุฆููุง ูู Git)

ุงููููุงุช ุงูุชุงููุฉ ูุชู ุฅูุดุงุคูุง ุฃุซูุงุก ุงูุชูููุฐ ููููุง ูุณุชุซูุงุฉ ูู ุงูุงูุชุฒุงูุงุช:
- `patch_raw.txt` - ูุฎุฑุฌุงุช Copilot ุงูุฃูููุฉ
- `todo.md` / `todo_completed.md` - ููุงุฆู ุชุญูู ุงูููุงู
- `plan.json` - ุฎุทุฉ ุงูุชูููุฐ
- `commit_msg.txt` - ุฑุณุงูุฉ ุงูุงูุชุฒุงู ุงููููุดุฃุฉ
- `mr_summary.txt` - ููุฎุต ุงูุชุบููุฑุงุช

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### Webhook ูุง ูุนูู

1. **ุชุญูู ูู ุชูุตูู webhook**
   - ูุณุชูุฏุน ุงูุชุทุจูู โ Settings โ Webhooks โ View Recent Deliveries
   - ุงุจุญุซ ุนู ุฑููุฒ ุญุงูุฉ 2xx

2. **ุชุญูู ูู ุฎุฏูุฉ webhook**
   ```bash
   curl -X POST https://gitlab-events.yourdomain.com/gitlab-events \
     -H "Content-Type: application/json" \
     -d '{"test": true}'
   ```

## ๐ ูููู ุงููุดุฑูุน

```
.
โโโ src/
โ   โโโ __tests__/                     # ูููุงุช ุงูุงุฎุชุจุงุฑ
โ   โโโ lib/
โ   โ   โโโ gitlab-api.ts             # ุนููู GitLab API (@gitbeaker/rest)
โ   โ   โโโ prompt-loader.ts          # ูุญูู ููุงูุจ i18n prompt
โ   โ   โโโ git-helpers.ts            # ุฏูุงู Git ุงููุณุงุนุฏุฉ
โ   โ   โโโ retry.ts                  # ุฃุฏุงุฉ ุฅุนุงุฏุฉ ุงููุญุงููุฉ
โ   โ   โโโ issue-workflow-service.ts # ุฎุฏูุฉ ุฃุชูุชุฉ Issue
โ   โ   โโโ mr-update-service.ts      # ุฎุฏูุฉ ุชุญุฏูุซ MR
โ   โ   โโโ mr-review-service.ts      # ุฎุฏูุฉ ูุฑุงุฌุนุฉ ููุฏ MR
โ   โโโ config.ts                     # ุงูุฅุนุฏุงุฏุงุช ูุน ุงูุชุญูู ุจู Zod
โ   โโโ types.ts                      # ุฃููุงุน TypeScript ููุฎุทุทุงุช Zod
โ   โโโ extractors.ts                 # ููุทู ุงุณุชุฎุฑุงุฌ ุงููุชุบูุฑุงุช
โ   โโโ pipeline.ts                   # ุนููู ุชูุนูู Pipeline
โ   โโโ utils.ts                      # ุฏูุงู ูุณุงุนุฏุฉ
โ   โโโ gitlab-events-handler.ts      # ูุนุงูุฌ webhook ุงูุฑุฆูุณู
โ   โโโ index.ts                      # ููุทุฉ ุฏุฎูู ุงูุชุทุจูู (Fastify)
โ   โโโ issue-workflow-cli.ts         # CLI ูุณูุฑ ุนูู Issue (ูู CI/CD)
โ   โโโ mr-update-cli.ts              # CLI ูุชุญุฏูุซ MR (ูู CI/CD)
โ   โโโ mr-review-cli.ts              # CLI ููุฑุงุฌุนุฉ MR (ูู CI/CD)
โโโ prompts/                          # ููุงูุจ i18n prompt (en, ar, hi, ja, ko, th, zh)
โโโ hooks/                            # ุญูููุงุช webhook ุงููุญููุธุฉ
โโโ logs/                             # ุณุฌูุงุช ุงูุชุทุจูู
โโโ dist/                             # JavaScript ุงููุชุฑุฌู
```

## ๐๏ธ ุงูููุฏุณ ุงูุชููู

- **ููุช ุงูุชุดุบูู**: Node.js 20+
- **ุฅุทุงุฑ ุงูุนูู**: Fastify 5
- **ุงููุบุฉ**: TypeScript (ูุถุน strict)
- **AI SDK**: @github/copilot-sdk
- **ุงูุชุญูู**: Zod
- **ุงูุงุฎุชุจุงุฑ**: Jest + ts-jest
- **ุนููู HTTP**: Undici (Node.js fetch ุงูุฃุตูู)
- **ุนูููุงุช Git**: simple-git
- **GitLab API**: @gitbeaker/rest
- **ุงูุชุณุฌูู**: Pino
- **ุชุนุฏุฏ ุงููุบุงุช**: 7 ูุบุงุช (en, zh, ja, hi, ko, th, ar)
